(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{46102:(e,a,t)=>{"use strict";t.d(a,{Bc:()=>r,ZI:()=>d,k$:()=>o,m_:()=>n});var l=t(95155);t(12115);var s=t(89613),i=t(59434);function r(e){let{delayDuration:a=0,...t}=e;return(0,l.jsx)(s.Kq,{"data-slot":"tooltip-provider",delayDuration:a,...t})}function n(e){let{...a}=e;return(0,l.jsx)(r,{children:(0,l.jsx)(s.bL,{"data-slot":"tooltip",...a})})}function o(e){let{...a}=e;return(0,l.jsx)(s.l9,{"data-slot":"tooltip-trigger",...a})}function d(e){let{className:a,sideOffset:t=0,children:r,...n}=e;return(0,l.jsx)(s.ZL,{children:(0,l.jsxs)(s.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,i.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",a),...n,children:[r,(0,l.jsx)(s.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},54252:(e,a,t)=>{"use strict";t.d(a,{FinancialDashboard:()=>ee});var l=t(95155),s=t(12115);function i(e){let{children:a}=e;return(0,l.jsx)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:a})}var r=t(30285),n=t(42355),o=t(53311),d=t(91788),c=t(34835),x=t(35695),m=t(94725);function u(){let e=(0,x.useRouter)(),a=async()=>{await (0,m.r)()};return(0,l.jsxs)("header",{className:"flex items-center justify-between p-4 bg-white border-b border-gray-200",children:[(0,l.jsx)(r.$,{onClick:()=>e.push("/"),children:(0,l.jsx)(n.A,{})}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(r.$,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:[(0,l.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"View AI Analysis"]}),(0,l.jsx)(r.$,{size:"sm",className:"bg-purple-500 hover:bg-purple-600 text-white",onClick:()=>{e.push("/dashboard/".concat("1","/chat/").concat("a9fcc6e8-64c7-4968-b9ce-f8f26ae14d64"))},children:"Credit Analyst AI Agent"}),(0,l.jsx)(r.$,{size:"icon",className:"bg-green-500 hover:bg-green-600 text-white",children:(0,l.jsx)(d.A,{className:"w-4 h-4"})}),(0,l.jsx)(r.$,{size:"icon",variant:"ghost",className:"text-gray-600 hover:text-gray-900",onClick:a,children:(0,l.jsx)(c.A,{className:"w-4 h-4"})})]})]})}let h=[{id:"income-statements",label:"INCOME STATEMENTS"},{id:"balance-sheet",label:"BALANCE SHEET"},{id:"cash-flow",label:"CASH FLOW"},{id:"ratios",label:"RATIOS"},{id:"industry-data",label:"INDUSTRY DATA"}];function p(e){let{activeTab:a,onTabChange:t}=e;return(0,l.jsx)("div",{className:"flex bg-white rounded-t-lg overflow-hidden relative z-10 w-fit text-sm border-b border-gray-200",children:h.map(e=>(0,l.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"relative z-10 px-4 py-2 uppercase font-medium transition-all duration-200\n            ".concat(a===e.id?"bg-white text-purple-600 rounded-t-lg -mb-px border-t border-l border-r border-gray-200":"text-gray-600 hover:text-purple-600 -mb-px","\n            ").concat("income-statements"===e.id?"rounded-tl-lg":"","\n          "),children:e.label},e.id))})}var g=t(39881),b=t(58832);function v(e){let{title:a,value:t,delta:s,deltaType:i,trend:r}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("span",{className:"text-base font-semibold text-purple-600",children:a}),"up"===r?(0,l.jsx)(g.A,{className:"h-5 w-5 text-green-500"}):(0,l.jsx)(b.A,{className:"h-5 w-5 text-red-500"})]}),(0,l.jsx)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),(0,l.jsx)("div",{className:"text-base font-medium ".concat("positive"===i?"text-green-500":"text-red-500"),children:s})]})}var f=t(81284),j=t(46102);function y(e){let{metrics:a}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg h-full p-6 border border-gray-200 shadow-sm relative",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center pb-6 border-b border-gray-200 mb-6",children:[(0,l.jsx)("h2",{className:"text-3xl font-semibold text-purple-600",children:"Income Statement"}),(0,l.jsx)("a",{href:"#",className:"text-blue-500 hover:underline text-sm",children:"Expand view"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-12",children:a.map(e=>(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"text-4xl font-bold text-gray-900 flex items-center justify-center gap-2 mb-1",children:[(0,l.jsx)("span",{children:e.value}),"positive"===e.trend&&(0,l.jsx)(g.A,{className:"h-5 w-5 text-green-500"}),"negative"===e.trend&&(0,l.jsx)(b.A,{className:"h-5 w-5 text-red-500"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-gray-600",children:e.label}),e.hasInfo&&(0,l.jsx)(j.Bc,{children:(0,l.jsxs)(j.m_,{children:[(0,l.jsx)(j.k$,{asChild:!0,children:(0,l.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-4 w-4 text-purple-500",children:(0,l.jsx)(f.A,{className:"h-3 w-3"})})}),(0,l.jsx)(j.ZI,{children:(0,l.jsxs)("p",{children:["Additional information about ",e.label]})})]})})]})]},e.label))})]})}var N=t(69474);let w={blue:{bg:"bg-blue-500",stroke:"stroke-blue-500",fill:"fill-blue-500",text:"text-blue-500"},emerald:{bg:"bg-emerald-500",stroke:"stroke-emerald-500",fill:"fill-emerald-500",text:"text-emerald-500"},violet:{bg:"bg-violet-500",stroke:"stroke-violet-500",fill:"fill-violet-500",text:"text-violet-500"},amber:{bg:"bg-amber-500",stroke:"stroke-amber-500",fill:"fill-amber-500",text:"text-amber-500"},gray:{bg:"bg-gray-500",stroke:"stroke-gray-500",fill:"fill-gray-500",text:"text-gray-500"},cyan:{bg:"bg-cyan-500",stroke:"stroke-cyan-500",fill:"fill-cyan-500",text:"text-cyan-500"},pink:{bg:"bg-pink-500",stroke:"stroke-pink-500",fill:"fill-pink-500",text:"text-pink-500"},lime:{bg:"bg-lime-500",stroke:"stroke-lime-500",fill:"fill-lime-500",text:"text-lime-500"},fuchsia:{bg:"bg-fuchsia-500",stroke:"stroke-fuchsia-500",fill:"fill-fuchsia-500",text:"text-fuchsia-500"}},k=Object.keys(w),A=(e,a)=>{var t,l;return null!=(l=null==(t=w[e])?void 0:t[a])?l:({bg:"bg-gray-500",stroke:"stroke-gray-500",fill:"fill-gray-500",text:"text-gray-500"})[a]};var V=t(74466);let _=(e,a,t)=>{if(void 0===e)return"";if(0===e){for(let e=0;e<a.length;e++)if(a[e]>0)return A(t[e],"bg")}let l=0;for(let s=0;s<a.length;s++)if((l+=a[s])>=e)return A(t[s],"bg");return A(t[a.length-1],"bg")},C=(e,a)=>e?e/a*100:0,I=e=>e.reduce((e,a)=>e+a,0),z=e=>Number.isInteger(e)?e.toString():e.toFixed(1),S=e=>{let{values:a}=e,t=s.useMemo(()=>I(a),[a]),i=0,r=0;return(0,l.jsxs)("div",{className:(0,V.cx)("relative mb-2 flex h-5 w-full text-sm font-medium","text-gray-700 dark:text-gray-300"),children:[(0,l.jsx)("div",{className:"absolute bottom-0 left-0 flex items-center",children:"0"}),a.map((e,a)=>{i+=e;let s=(e>=.1*t||r>=.09*t)&&t-i>=.1*t&&i>=.1*t&&i<.9*t;r=s?0:r+=e;let n=C(e,t);return(0,l.jsx)("div",{className:"flex items-center justify-end pr-0.5",style:{width:"".concat(n,"%")},children:s?(0,l.jsx)("span",{className:(0,V.cx)("block translate-x-1/2 text-sm tabular-nums"),children:z(i)}):null},"item-".concat(a))}),(0,l.jsx)("div",{className:"absolute right-0 bottom-0 flex items-center",children:z(t)})]})},T=s.forwardRef((e,a)=>{let{values:t=[],colors:i=k,marker:r,showLabels:n=!0,className:o,...d}=e,c=s.useMemo(()=>_(null==r?void 0:r.value,t,i),[r,t,i]),x=s.useMemo(()=>I(t),[t]),m=s.useMemo(()=>{if(void 0!==r)return r.value<0?0:r.value>x?x:r.value},[r,x]),u=s.useMemo(()=>C(m,x),[m,x]);return(0,l.jsxs)("div",{ref:a,className:(0,V.cx)(o),"aria-label":"Category bar","aria-valuenow":null==r?void 0:r.value,"tremor-id":"tremor-raw",...d,children:[n?(0,l.jsx)(S,{values:t}):null,(0,l.jsxs)("div",{className:"relative flex h-2 w-full items-center",children:[(0,l.jsx)("div",{className:"flex h-full flex-1 items-center gap-0.5 overflow-hidden rounded-full",children:t.map((e,a)=>{var t;let s=null!=(t=i[a])?t:"gray",r=e/x*100;return(0,l.jsx)("div",{className:(0,V.cx)("h-full",A(s,"bg"),0===r&&"hidden"),style:{width:"".concat(r,"%")}},"item-".concat(a))})}),void 0!==r?(0,l.jsx)("div",{className:(0,V.cx)("absolute w-2 -translate-x-1/2",r.showAnimation&&"transform-gpu transition-all duration-300 ease-in-out"),style:{left:"".concat(u,"%")},children:r.tooltip?(0,l.jsxs)(j.m_,{children:[(0,l.jsx)(j.k$,{asChild:!0,children:(0,l.jsx)("div",{"aria-hidden":"true",className:(0,V.cx)("relative mx-auto h-4 w-1 rounded-full ring-2","ring-white dark:ring-gray-950",c),children:(0,l.jsx)("div",{"aria-hidden":!0,className:"absolute size-7 -translate-x-[45%] -translate-y-[15%]"})})}),(0,l.jsx)(j.ZI,{children:r.tooltip})]}):(0,l.jsx)("div",{className:(0,V.cx)("mx-auto h-4 w-1 rounded-full ring-2","ring-white dark:ring-gray-950",c)})}):null]})]})});T.displayName="CategoryBar";let D=["Quick Ratio","Current Ratio","Debt to Equity Ratio","Debt to EBITDA","Total Liabilities Ratio","EBITDA Interest Coverage Ratio","Debt Service Coverage Ratio"],R={"Quick Ratio":{average:1.2,applicant:.8},"Current Ratio":{average:2,applicant:1.5},"Debt to Equity Ratio":{average:.5,applicant:1.2},"Debt to EBITDA":{average:3,applicant:4.5},"Total Liabilities Ratio":{average:.6,applicant:.8},"EBITDA Interest Coverage Ratio":{average:5,applicant:2.5},"Debt Service Coverage Ratio":{average:1.5,applicant:.9}};function E(){let[e,a]=(0,s.useState)(!1),[t,i]=(0,s.useState)(null),n=e=>{i(e),a(!0)},o=t?R[t]:null;return o&&(o.average,o.applicant),(0,l.jsxs)(N._s.Root,{direction:"right",open:e,onOpenChange:a,children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-600 mb-4",children:"Key Ratios"}),(0,l.jsx)("div",{className:"space-y-3",children:D.map(e=>(0,l.jsx)(N._s.Trigger,{asChild:!0,children:(0,l.jsxs)("div",{onClick:()=>n(e),className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-b-0 cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,l.jsx)("span",{className:"text-gray-700 text-sm",children:e}),(0,l.jsx)(j.Bc,{children:(0,l.jsxs)(j.m_,{children:[(0,l.jsx)(j.k$,{asChild:!0,children:(0,l.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-4 w-4 text-blue-500",children:(0,l.jsx)(f.A,{className:"h-3 w-3"})})}),(0,l.jsx)(j.ZI,{children:(0,l.jsxs)("p",{children:["Information about ",e]})})]})})]})},e))})]}),(0,l.jsxs)(N._s.Portal,{children:[(0,l.jsx)(N._s.Overlay,{className:"fixed inset-0 bg-black/40"}),(0,l.jsx)(N._s.Content,{className:"right-2 top-2 bottom-2 fixed z-10 outline-none w-[310px] flex flex-col rounded-[16px] bg-white p-5",style:{"--initial-transform":"calc(100% + 8px)"},children:(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)(N._s.Title,{className:"font-medium mb-4 text-zinc-900",children:[t," Comparison"]}),o?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-zinc-600 mb-2",children:"Average Value"}),(0,l.jsx)(T,{values:[o.average],marker:{value:o.average,tooltip:"Average: ".concat(o.average)},colors:["blue"],className:"mx-auto max-w-sm",showLabels:!1}),(0,l.jsx)("p",{className:"text-right text-sm text-zinc-600 mt-1",children:o.average})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-zinc-600 mb-2",children:"Credit Applicant Value"}),(0,l.jsx)(T,{values:[o.applicant],marker:{value:o.applicant,tooltip:"Applicant: ".concat(o.applicant)},colors:["pink"],className:"mx-auto max-w-sm",showLabels:!1}),(0,l.jsx)("p",{className:"text-right text-sm text-zinc-600 mt-1",children:o.applicant})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("p",{className:"text-sm text-zinc-600 mb-2",children:"Comparison"}),(0,l.jsx)(T,{values:[o.average,o.applicant],marker:{value:o.applicant,tooltip:"Applicant: ".concat(o.applicant)},colors:["blue","pink"],className:"mx-auto max-w-sm",showLabels:!1}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-zinc-600 mt-1",children:[(0,l.jsxs)("span",{children:["Average: ",o.average]}),(0,l.jsxs)("span",{children:["Applicant: ",o.applicant]})]})]})]}):(0,l.jsx)("p",{className:"text-zinc-600",children:"Select a ratio to see its comparison."})]})})]})]})}var M=t(83540),$=t(28616),B=t(94754),L=t(96025),O=t(16238),F=t(94517),P=t(70919),K=t(83394);let Z=[{period:"Jan 2025",startValue:100,maxValue:120,minValue:90,endValue:110},{period:"Feb 2025",startValue:110,maxValue:130,minValue:105,endValue:125},{period:"Mar 2025",startValue:125,maxValue:115,minValue:95,endValue:100},{period:"Apr 2025",startValue:100,maxValue:110,minValue:98,endValue:108},{period:"May 2025",startValue:108,maxValue:128,minValue:100,endValue:120},{period:"Jun 2025",startValue:120,maxValue:110,minValue:90,endValue:95},{period:"Jul 2025",startValue:95,maxValue:105,minValue:85,endValue:100}],q=[{id:"annually",label:"Annually"},{id:"quarterly",label:"Quarterly"},{id:"monthly",label:"Monthly"}],H=e=>{let{active:a,payload:t,label:s}=e;if(a&&t&&t.length){let e=t[0].payload;return(0,l.jsxs)("div",{className:"bg-white p-2 border border-gray-200 rounded shadow-md text-sm",children:[(0,l.jsx)("p",{className:"font-semibold",children:"Period: ".concat(s)}),(0,l.jsx)("p",{children:"Start Value: ".concat(e.startValue)}),(0,l.jsx)("p",{children:"Max Value: ".concat(e.maxValue)}),(0,l.jsx)("p",{children:"Min Value: ".concat(e.minValue)}),(0,l.jsx)("p",{children:"End Value: ".concat(e.endValue)})]})}return null},U=e=>{let{x:a,y:t,width:s,startValue:i,maxValue:r,minValue:n,endValue:o}=e,d=o>i?"#10B981":"#EF4444",c=Math.min(i,o),x=Math.abs(i-o);return(0,l.jsxs)("g",{children:[(0,l.jsx)("line",{x1:a+s/2,y1:r,x2:a+s/2,y2:n,stroke:d,strokeWidth:1}),(0,l.jsx)("rect",{x:a,y:c,width:s,height:x,fill:d,stroke:d})]})};function J(e){let{period:a,onPeriodChange:t}=e;return(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("div",{className:"flex gap-1 p-1 bg-gray-100 rounded-md border border-gray-200",children:q.map(e=>(0,l.jsx)(r.$,{variant:a===e.id?"default":"ghost",size:"sm",onClick:()=>t(e.id),className:a===e.id?"bg-blue-500 hover:bg-blue-600 text-white text-xs":"text-gray-600 hover:text-gray-900 text-xs",children:e.label},e.id))}),(0,l.jsxs)(r.$,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white",children:[(0,l.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Download"]})]}),(0,l.jsx)("div",{className:"h-[400px]",children:(0,l.jsx)(M.u,{width:"100%",height:"100%",children:(0,l.jsxs)($.X,{data:Z,margin:{top:20,right:30,left:20,bottom:60},children:[(0,l.jsx)(B.d,{strokeDasharray:"3 3",vertical:!1}),(0,l.jsx)(L.W,{dataKey:"period",tick:{fill:"#4B5563",fontSize:10},angle:-45,textAnchor:"end",height:80}),(0,l.jsx)(O.h,{tick:{fill:"#4B5563",fontSize:12},domain:["dataMin - 10","dataMax + 10"]}),(0,l.jsx)(F.m,{content:(0,l.jsx)(H,{})}),(0,l.jsx)(P.e,{y:105,stroke:"red",strokeDasharray:"3 3",label:"Avg"}),(0,l.jsx)(K.y,{dataKey:"endValue",shape:(0,l.jsx)(U,{}),isAnimationActive:!0,animationBegin:0,animationDuration:300,animationEasing:"ease-out"})]})})})]})}var Q=t(83893);let W=[{label:"Total Revenue",value:"$12,405,134.65",hasInfo:!0,trend:"negative"},{label:"Gross Profit",value:"$8,195,001.05",hasInfo:!0,trend:"positive"},{label:"Operating Expenses",value:"$2,085,606.14",hasInfo:!0,trend:"positive"}],G=[{title:"Total Revenue",value:"$805,134.65",delta:"+21.6%",deltaType:"positive",trend:"up"},{title:"EBITDA",value:"$405,134.65",delta:"-6.9%",deltaType:"negative",trend:"down"}],X={id:"mock-app-123",created_at:new Date().toISOString(),user_id:"mock-user-123",status:"approved",analysis_template:"standard",risk_appetite:70,company_type:"Productive",amount:1e6,ai_analysis_status:"completed",probability_approval:80,overall_indicator:"MEDIUM_RISK",document_validation_percentage:100,estimated_analysis_time_minutes:5,revenue:[{year:2024,month:1,revenue:100},{year:2024,month:2,revenue:120},{year:2024,month:3,revenue:110}],application_files:[],ai_analysis:"This is a mock AI analysis report."},Y=[{id:"1",sender_type:"ai",message_content:"Hello! How can I assist you with this application?"}];function ee(){let[e,a]=(0,s.useState)("income-statements"),[t,r]=(0,s.useState)("credit-application"),[n,o]=(0,s.useState)(Y);return(0,l.jsxs)(i,{children:[(0,l.jsx)(u,{}),(0,l.jsxs)("div",{className:"flex-1 p-6 space-y-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Financial Analysis"}),(0,l.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-8",children:"Company"})]}),(0,l.jsx)(p,{activeTab:e,onTabChange:a}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsx)(y,{metrics:W})}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:G.map(e=>(0,l.jsx)(v,{title:e.title,value:e.value,delta:e.delta,deltaType:e.deltaType,trend:e.trend},e.title))})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(E,{})}),(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsx)(J,{period:e,onPeriodChange:a})," "]}),(0,l.jsx)("div",{children:(0,l.jsx)(Q.G,{activeView:t,setActiveView:r,applicationData:X,isLoadingData:!1,errorData:null,initialMessages:n,isLoadingChat:!1,applicationId:X.id})})]})]})]})}},82807:(e,a,t)=>{Promise.resolve().then(t.bind(t,54252))},94725:(e,a,t)=>{"use strict";t.d(a,{r:()=>s});var l=t(34477);let s=(0,l.createServerReference)("0098f373af6c582b292402a69dbeb7f20d0ff3d93f",l.callServer,void 0,l.findSourceMapURL,"logout")}},e=>{var a=a=>e(e.s=a);e.O(0,[352,576,587,205,60,148,133,92,216,893,441,684,358],()=>a(82807)),_N_E=e.O()}]);