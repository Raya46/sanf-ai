(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{22938:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,39305)),Promise.resolve().then(r.bind(r,83907)),Promise.resolve().then(r.bind(r,22346)),Promise.resolve().then(r.bind(r,98579))},39305:(e,a,r)=>{"use strict";r.d(a,{ChatSection:()=>h});var s=r(95155),n=r(59434),i=r(90792);function t(e){let{chat:a,sources:r,color:t,position:l="start"}=e,d=null==t?void 0:t.includes("text-white");return(0,s.jsx)("div",{className:(0,n.cn)("flex w-full","end"===l?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:(0,n.cn)("max-w-[80%] rounded-lg p-3",t),children:[(0,s.jsx)("div",{className:(0,n.cn)("prose prose-sm max-w-none prose-p:my-0 prose-ul:my-2 prose-ol:my-2 prose-headings:my-2",d?"text-white":"text-black"),children:(0,s.jsx)(i.oz,{children:a})}),r&&(0,s.jsxs)("div",{className:(0,n.cn)("mt-2 text-xs",d?"text-blue-200":"text-gray-500"),children:[(0,s.jsx)("span",{className:"font-semibold",children:"Sources:"})," ",r]})]})})}var l=r(30285),d=r(12115);function o(e){let{className:a,...r}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}var c=r(39881),u=r(95879);function h(){var e;let a=(0,d.useRef)(null),{messages:r,input:n,handleInputChange:i,handleSubmit:h,isLoading:x,error:m,data:b}=(0,u.Y_)({api:"/api/chat",initialMessages:[{id:"1",role:"assistant",content:"Berdasarkan dokumen yang disediakan, aplikasi kredit ini terkait dengan PT Maju Bersama. Laporan keuangan menunjukkan kesehatan finansial yang stabil selama 2 tahun terakhir, dengan pertumbuhan pendapatan yang konsisten. Rekening koran 3 bulan mengkonfirmasi likuiditas yang kuat."}],onError:e=>{console.error("Chat error:",e.message)},onFinish:e=>{console.log("Message finished streaming:",e.role)},onResponse:e=>{e.ok||console.error("Error response from API:",e.statusText)}}),p=null==b?void 0:b[b.length-1],g=null!=(e=null==p?void 0:p.status)?e:"Sedang menganalisis dokumen...";return(0,s.jsxs)("div",{className:"flex flex-col flex-1 bg-white gap-3 m-4 p-4 rounded-lg h-[calc(100vh-2rem)]",children:[(0,s.jsx)("h1",{className:"flex-shrink-0",children:"Credit Application"}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto flex flex-col gap-3",children:[r.map((e,a)=>{let r,n=e.content;if("assistant"===e.role){let e=n.match(/Sources?: (.*)$/);e?(r=e[1],n=n.replace(/\n?Sources?: .*$/,"").trim()):0===a&&(r="Laporan_Keuangan_2_Tahun.pdf, Rekening_Koran_3_Bulan.pdf")}return(0,s.jsx)(t,{color:"user"===e.role?"bg-blue-500 text-white":"bg-transparent",position:"user"===e.role?"end":"start",chat:n,sources:r},e.id)}),x&&(0,s.jsx)(t,{color:"bg-transparent",position:"start",chat:g}),m&&(0,s.jsxs)("div",{children:[(0,s.jsx)(t,{color:"bg-red-100 text-red-800",position:"start",chat:"Terjadi kesalahan: ".concat(m.message,". Silakan coba lagi.")}),!1]})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&h(e)},className:"relative w-full flex-shrink-0",children:[(0,s.jsx)(o,{ref:a,value:n,onChange:i,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h(e))},placeholder:"Ketik pesan Anda...",className:"min-h-[24px] max-h-[calc(75dvh)] overflow-hidden resize-none rounded-2xl !text-base bg-muted pb-10 pr-12",rows:2,disabled:x}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 p-2 w-fit flex flex-row justify-end",children:(0,s.jsx)(l.$,{type:"submit",disabled:x||!n.trim(),className:"rounded-full bg-blue-500 p-1.5 h-fit border",size:"icon",children:(0,s.jsx)(c.A,{className:"w-4 h-4"})})})]})]})}},47262:(e,a,r)=>{"use strict";r.d(a,{S:()=>l});var s=r(95155);r(12115);var n=r(76981),i=r(5196),t=r(59434);function l(e){let{className:a,...r}=e;return(0,s.jsx)(n.bL,{"data-slot":"checkbox",className:(0,t.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,s.jsx)(n.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(i.A,{className:"size-3.5"})})})}},83907:(e,a,r)=>{"use strict";r.d(a,{CreditSidebar:()=>d});var s=r(95155),n=r(47262),i=r(98579),t=r(6874),l=r.n(t);function d(){return(0,s.jsxs)(i.Sidebar,{collapsible:"offcanvas",variant:"floating",className:"my-4 mr-4 ml-3 -top-2 h-[calc(100vh-1rem)]",children:[(0,s.jsx)(i.SidebarHeader,{className:"bg-white rounded-lg",children:(0,s.jsx)(i.SidebarMenu,{children:(0,s.jsx)(i.SidebarMenuItem,{children:(0,s.jsx)(i.SidebarMenuButton,{asChild:!0,children:(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)("span",{children:"SANF AI"})})})})})}),(0,s.jsx)(i.SidebarContent,{className:"bg-white rounded-lg",children:(0,s.jsxs)(i.SidebarMenu,{children:[(0,s.jsx)(i.SidebarMenuItem,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,s.jsx)(n.S,{}),(0,s.jsx)("p",{children:"Select all resources"})]})}),(0,s.jsx)(i.SidebarMenuItem,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,s.jsx)(n.S,{}),(0,s.jsx)("p",{children:"Rekening koran 3 bulan"})]})})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[352,874,848,370,641,231,579,441,684,358],()=>a(22938)),_N_E=e.O()}]);