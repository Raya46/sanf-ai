(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{22938:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.bind(r,39305)),Promise.resolve().then(r.bind(r,83907)),Promise.resolve().then(r.bind(r,22346)),Promise.resolve().then(r.bind(r,98579))},39305:(e,a,r)=>{"use strict";r.d(a,{ChatSection:()=>h});var n=r(95155),s=r(66695);function t(e){let{color:a,position:r,chat:t,sources:i}=e,l=a.includes("bg-transparent");return(0,n.jsxs)(s.Zp,{className:"p-4 self-".concat(r," ").concat(a," ").concat(l?"":"border"),children:[(0,n.jsx)("p",{children:t}),i?(0,n.jsx)("p",{children:i}):null]})}var i=r(30285),l=r(12115),d=r(59434);function o(e){let{className:a,...r}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,d.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...r})}var c=r(39881),u=r(95879);function h(){var e;let a=(0,l.useRef)(null),{messages:r,input:s,handleInputChange:d,handleSubmit:h,isLoading:x,error:m,data:b}=(0,u.Y_)({api:"/api/chat",initialMessages:[{id:"1",role:"assistant",content:"Berdasarkan dokumen yang disediakan, aplikasi kredit ini terkait dengan PT Maju Bersama. Laporan keuangan menunjukkan kesehatan finansial yang stabil selama 2 tahun terakhir, dengan pertumbuhan pendapatan yang konsisten. Rekening koran 3 bulan mengkonfirmasi likuiditas yang kuat."}],onError:e=>{console.error("Chat error:",e.message)},onFinish:e=>{console.log("Message finished streaming:",e.role)},onResponse:e=>{e.ok||console.error("Error response from API:",e.statusText)}});(0,l.useEffect)(()=>{m&&console.log("--- ERROR STATE UPDATED ---",m)},[m]);let p=null==b?void 0:b[b.length-1],f=null!=(e=null==p?void 0:p.status)?e:"Sedang menganalisis dokumen...";return(0,n.jsxs)("div",{className:"flex flex-col flex-1 bg-white gap-3 m-4 p-4 rounded-lg h-[calc(100vh-2rem)]",children:[(0,n.jsx)("h1",{className:"flex-shrink-0",children:"Credit Application"}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto flex flex-col gap-3",children:[r.map((e,a)=>{let r,s=e.content;if("assistant"===e.role){let e=s.match(/Sources?: ([^\n]+)$/);e?(r=e[0],s=s.replace(/\n?Sources?: [^\n]+$/,"").trim()):0===a&&(r="Sources: Laporan_Keuangan_2_Tahun.pdf, Rekening_Koran_3_Bulan.pdf")}return(0,n.jsx)(t,{color:"user"===e.role?"bg-blue-500 text-white":"bg-transparent",position:"user"===e.role?"end":"start",chat:s,sources:r},e.id)}),x&&(0,n.jsx)(t,{color:"bg-transparent",position:"start",chat:f}),m&&(0,n.jsxs)("div",{children:[(0,n.jsx)(t,{color:"bg-red-100 text-red-800",position:"start",chat:"Terjadi kesalahan: ".concat(m.message,". Silakan coba lagi.")}),!1]})]}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&h(e)},className:"relative w-full flex-shrink-0",children:[(0,n.jsx)(o,{ref:a,value:s,onChange:d,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h(e))},placeholder:"Ketik pesan Anda...",className:"min-h-[24px] max-h-[calc(75dvh)] overflow-hidden resize-none rounded-2xl !text-base bg-muted pb-10 pr-12",rows:2,disabled:x}),(0,n.jsx)("div",{className:"absolute bottom-0 right-0 p-2 w-fit flex flex-row justify-end",children:(0,n.jsx)(i.$,{type:"submit",disabled:x||!s.trim(),className:"rounded-full bg-blue-500 p-1.5 h-fit border",size:"icon",children:(0,n.jsx)(c.A,{className:"w-4 h-4"})})})]})]})}},47262:(e,a,r)=>{"use strict";r.d(a,{S:()=>l});var n=r(95155);r(12115);var s=r(76981),t=r(5196),i=r(59434);function l(e){let{className:a,...r}=e;return(0,n.jsx)(s.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...r,children:(0,n.jsx)(s.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,n.jsx)(t.A,{className:"size-3.5"})})})}},66695:(e,a,r)=>{"use strict";r.d(a,{BT:()=>d,Wu:()=>c,X9:()=>o,ZB:()=>l,Zp:()=>t,aR:()=>i,wL:()=>u});var n=r(95155);r(12115);var s=r(59434);function t(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6",a),...r})}function i(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...r})}function l(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",a),...r})}function d(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",a),...r})}function o(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-action",className:(0,s.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",a),...r})}function c(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",a),...r})}function u(e){let{className:a,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",a),...r})}},83907:(e,a,r)=>{"use strict";r.d(a,{CreditSidebar:()=>d});var n=r(95155),s=r(47262),t=r(98579),i=r(6874),l=r.n(i);function d(){return(0,n.jsxs)(t.Sidebar,{collapsible:"offcanvas",variant:"floating",className:"my-4 mr-4 ml-3 -top-2 h-[calc(100vh-1rem)]",children:[(0,n.jsx)(t.SidebarHeader,{className:"bg-white rounded-lg",children:(0,n.jsx)(t.SidebarMenu,{children:(0,n.jsx)(t.SidebarMenuItem,{children:(0,n.jsx)(t.SidebarMenuButton,{asChild:!0,children:(0,n.jsx)(l(),{href:"/",children:(0,n.jsx)("span",{children:"SANF AI"})})})})})}),(0,n.jsx)(t.SidebarContent,{className:"bg-white rounded-lg",children:(0,n.jsxs)(t.SidebarMenu,{children:[(0,n.jsx)(t.SidebarMenuItem,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,n.jsx)(s.S,{}),(0,n.jsx)("p",{children:"Select all resources"})]})}),(0,n.jsx)(t.SidebarMenuItem,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,n.jsx)(s.S,{}),(0,n.jsx)("p",{children:"Rekening koran 3 bulan"})]})})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[352,874,848,370,641,802,579,441,684,358],()=>a(22938)),_N_E=e.O()}]);