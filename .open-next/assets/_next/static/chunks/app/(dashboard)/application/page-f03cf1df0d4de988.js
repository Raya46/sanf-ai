(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{13052:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},29676:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},32417:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},34477:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return s.findSourceMapURL}});let r=a(53806),s=a(31818),i=a(34979).createServerReference},34835:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},48319:(e,t,a)=>{Promise.resolve().then(a.bind(a,70713)),Promise.resolve().then(a.bind(a,76829)),Promise.resolve().then(a.bind(a,98579))},50773:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(19946).A)("file-plus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]])},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>o,X9:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>l,wL:()=>u});var r=a(95155);a(12115);var s=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-action",className:(0,s.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...a})}function u(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",t),...a})}},70713:(e,t,a)=>{"use strict";a.d(t,{AppSidebar:()=>p});var r=a(95155),s=a(32417),i=a(50773),l=a(29676),n=a(34835),d=a(6874),c=a.n(d),o=a(12115),u=a(98579),x=a(34477);let h=(0,x.createServerReference)("0072b2129e725a3333670463384d2967a3f44be571",x.callServer,void 0,x.findSourceMapURL,"logout"),m=[{title:"Dashboard",url:"/",icon:s.A},{title:"New Application",url:"/new-application",icon:i.A},{title:"Applications",url:"/application",icon:l.A}],f=[{title:"Logout",url:"#",icon:n.A}];function p(e){let{...t}=e,[a,s]=o.useState("");o.useEffect(()=>{s(window.location.pathname)},[]);let i=async()=>{await h()};return(0,r.jsxs)(u.Sidebar,{collapsible:"offcanvas",...t,children:[(0,r.jsx)(u.SidebarHeader,{className:"pb-2",children:(0,r.jsx)(u.SidebarMenu,{className:"pt-6",children:(0,r.jsx)(u.SidebarMenuItem,{children:(0,r.jsx)(u.SidebarMenuButton,{className:"flex justify-center items-center gap-2 pb-8 px-2",asChild:!0,children:(0,r.jsx)(c(),{href:"/",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("span",{className:"text-lg font-bold",children:"SANF AI"})})})})})})}),(0,r.jsxs)(u.SidebarContent,{children:[(0,r.jsx)(u.SidebarGroup,{children:(0,r.jsx)(u.SidebarMenu,{children:m.map(e=>(0,r.jsx)(u.SidebarMenuItem,{children:(0,r.jsx)(u.SidebarMenuButton,{asChild:!0,isActive:a===e.url,className:"group hover:bg-blue-50 duration-200 focus:text-primary data-[active=true]:text-primary",children:(0,r.jsxs)(c(),{href:e.url,children:[(0,r.jsx)("div",{className:"w-8 h-8 group ".concat(a===e.url?"bg-blue-600":"bg-blue-500 hover:bg-blue-600"," justify-center items-center flex rounded-lg transition-colors duration-200"),children:e.icon&&(0,r.jsx)(e.icon,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("span",{className:"text-sm ".concat(a===e.url?"text-blue-600":"text-gray-700 hover:text-blue-600"," font-medium"),children:e.title})]})})},e.title))})}),(0,r.jsxs)(u.SidebarGroup,{children:[(0,r.jsx)(u.SidebarGroupLabel,{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Accounts"}),(0,r.jsx)(u.SidebarMenu,{children:f.map(e=>(0,r.jsx)(u.SidebarMenuItem,{children:(0,r.jsx)(u.SidebarMenuButton,{asChild:"Logout"!==e.title,isActive:a===e.url,className:"hover:bg-red-50 duration-200 focus:text-red-600 data-[active=true]:text-red-600",children:"Logout"===e.title?(0,r.jsxs)("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&i()},className:"w-full flex items-center gap-3 p-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-red-500 hover:bg-red-600 justify-center items-center flex rounded-lg transition-colors duration-200",children:e.icon&&(0,r.jsx)(e.icon,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("span",{className:"text-sm text-gray-700 hover:text-red-600 font-medium",children:e.title})]}):(0,r.jsxs)(c(),{href:e.url,children:[(0,r.jsx)("div",{className:"w-8 h-8 ".concat(a===e.url?"bg-red-600":"bg-red-500 hover:bg-red-600"," justify-center items-center flex rounded-lg transition-colors duration-200"),children:e.icon&&(0,r.jsx)(e.icon,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("span",{className:"text-sm ".concat(a===e.url?"text-red-600":"text-gray-700 hover:text-red-600"," font-medium"),children:e.title})]})})},e.title))})]})]}),(0,r.jsx)(u.SidebarFooter,{className:"border-t border-border/50 pt-2",children:(0,r.jsx)(u.SidebarMenu,{children:(0,r.jsx)(u.SidebarMenuItem,{children:(0,r.jsx)(u.SidebarMenuButton,{asChild:!0,children:(0,r.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"\xa9 2025 SANF AI"})})})})}),(0,r.jsx)(u.SidebarRail,{className:"bg-transparent"})]})}},76829:(e,t,a)=>{"use strict";a.d(t,{SectionCardHistory:()=>R});var r=a(95155),s=a(13052);let i=(0,a(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var l=a(66695),n=a(22346),d=a(12115),c=a(99708),o=a(74466),u=a(59434);let x=(0,o.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function h(e){let{className:t,variant:a,asChild:s=!1,...i}=e,l=s?c.DX:"span";return(0,r.jsx)(l,{"data-slot":"badge",className:(0,u.cn)(x({variant:a}),t),...i})}var m=a(68856),f=a(35695),p=a(15452),b=a(54416);let g=p.bL,v=p.l9,j=p.ZL;p.bm;let y=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.hJ,{ref:t,className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});y.displayName=p.hJ.displayName;let N=d.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(j,{children:[(0,r.jsx)(y,{}),(0,r.jsxs)(p.UC,{ref:t,className:(0,u.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[s,(0,r.jsxs)(p.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(b.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});N.displayName=p.UC.displayName;let w=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,u.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};w.displayName="DialogHeader";let k=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,u.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};k.displayName="DialogFooter";let S=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.hE,{ref:t,className:(0,u.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});S.displayName=p.hE.displayName;let A=d.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.VY,{ref:t,className:(0,u.cn)("text-sm text-muted-foreground",a),...s})});A.displayName=p.VY.displayName;var M=a(30285);let C={submitted:"bg-blue-100 text-blue-600",completed:"bg-green-100 text-green-600",sedang:"bg-[#FF9800]/20 text-[#FF9800]"},E={rendah:"text-blue-600",sedang:"text-[#FF9800]",tinggi:"text-green-600"};function R(){let e=(0,f.useRouter)(),[t,a]=(0,d.useState)(null),[c,o]=(0,d.useState)(!0),[u,x]=(0,d.useState)(!1),[p,b]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/applications");if(!e.ok)throw Error("Failed to fetch applications");let t=await e.json();a(Array.isArray(t)?t:[])}catch(e){console.error(e)}finally{o(!1)}})()},[]);let j=async()=>{if(p){x(!0);try{if(!(await fetch("/api/applications/".concat(p),{method:"DELETE"})).ok)throw Error("Failed to delete application");a(e=>{var t;return null!=(t=null==e?void 0:e.filter(e=>e.id!==p))?t:null})}catch(e){console.error(e)}finally{x(!1),b(null)}}};return c?(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(m.E,{className:"h-4 w-1/4 m-4"}),(0,r.jsx)("div",{className:"flex flex-row justify-between items-center m-4",children:(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,r.jsx)(m.E,{className:"h-16 w-16 rounded-full"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(m.E,{className:"h-4 w-32"}),(0,r.jsx)(m.E,{className:"h-4 w-24"})]})]})}),(0,r.jsx)("div",{className:"m-4",children:(0,r.jsx)(n.Separator,{})}),(0,r.jsx)("div",{className:"flex flex-row items-center justify-between m-4",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(m.E,{className:"h-4 w-24"}),(0,r.jsx)(m.E,{className:"h-4 w-16"})]})})]})}):(0,r.jsxs)(g,{open:!!p,onOpenChange:e=>!e&&b(null),children:[(0,r.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:t&&t.length>0?t.map(t=>{var a,d,c,o;return(0,r.jsxs)("div",{className:"shadow-lg rounded-lg",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-3 items-center m-4",children:[(0,r.jsx)(h,{variant:"secondary",className:"bg-blue-100 text-blue-600 font-bold",children:new Date(t.submitted_at).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),(0,r.jsx)(h,{variant:"secondary",className:"".concat(C[null!=(c=null==(a=t.status)?void 0:a.toLowerCase())?c:""]||"bg-gray-100 text-gray-800"," font-bold"),children:t.status||"N/A"})]}),(0,r.jsxs)("div",{className:"flex flex-row justify-between items-center m-4",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-4",children:[(0,r.jsx)("div",{className:"rounded-full border-4 border-blue-600 p-4 px-5",children:(0,r.jsxs)("p",{className:"text-blue-600 font-bold",children:[t.probability_approval,"%"]})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(l.ZB,{children:t.company_name}),(0,r.jsxs)(l.BT,{children:["#PENGAJUAN-",t.id.slice(-6)]})]})]}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)(s.A,{height:30,width:30,className:"cursor-pointer",onClick:()=>e.push("/new-application/".concat(t.id))})})]}),(0,r.jsx)("div",{className:"m-4",children:(0,r.jsx)(n.Separator,{})}),(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between m-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(l.BT,{children:"Indikator Resiko"}),(0,r.jsx)(l.ZB,{className:E[null!=(o=null==(d=t.overall_indicator)?void 0:d.toLowerCase())?o:""]||"",children:t.overall_indicator||"N/A"})]}),(0,r.jsx)(v,{asChild:!0,children:(0,r.jsx)(i,{color:"#fb2c36",height:25,width:25,className:"cursor-pointer",onClick:()=>b(t.id)})})]})]},t.id)}):(0,r.jsx)("p",{children:"No applications found."})}),(0,r.jsxs)(N,{children:[(0,r.jsxs)(w,{children:[(0,r.jsx)(S,{children:"Are you sure?"}),(0,r.jsx)(A,{children:"This action cannot be undone. This will permanently delete the application."})]}),(0,r.jsxs)(k,{children:[(0,r.jsx)(M.$,{variant:"outline",onClick:()=>b(null),disabled:u,children:"No"}),(0,r.jsx)(M.$,{variant:"destructive",onClick:j,disabled:u,children:u?"Deleting...":"Yes"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,874,848,370,579,441,684,358],()=>t(48319)),_N_E=e.O()}]);